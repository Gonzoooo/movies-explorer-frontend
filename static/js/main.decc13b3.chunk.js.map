{"version":3,"sources":["images/logo.svg","components/Logo/Logo.js","components/Main/NavTab/NavTab.js","components/Navigation/Navigation.js","components/Header/Header.js","contexts/CurrentUserContext.js","utils/useFormWithValidation.js","components/Profile/Profile.js","components/Form/Form.js","components/Register/Register.js","components/Movies/Preloader/Preloader.js","components/Login/Login.js","components/Main/Promo/Promo.js","components/Main/AboutProject/AboutProject.js","components/Main/Techs/Techs.js","images/my_photo.png","components/Main/AboutMe/AboutMe.js","images/icon__arrow.svg","components/Main/Portfolio/Portfolio.js","components/Footer/Footer.js","components/Main/Main.js","components/NotFound/NotFound.js","components/Movies/FilterCheckbox/FilterCheckbox.js","components/Movies/SearchForm/SearchForm.js","components/Movies/MoviesCard/MoviesCard.js","components/Movies/MoviesCardMore/MoviesCardMore.js","components/Movies/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","ProtectedRoute/ProtectedRoute.js","utils/MainApi.js","images/CheckMark.svg","images/cross.svg","images/CloseIcon.svg","components/InfoTooltiip/InfoTooltip.js","utils/errorMessages.js","components/App/App.js","utils/MoviesApi.js","index.js"],"names":["Logo","to","className","src","logo","alt","NavTab","isOpen","isClose","onClick","exact","activeClassName","Navigation","main","loggedIn","React","useState","isMenuOpened","setIsMenuOpened","localStorage","getItem","Header","CurrentUserContext","createContext","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","handleChange","event","target","name","value","validationMessage","closest","checkValidity","Profile","onSignOut","onUpdateUser","currentUser","useContext","inputRef","useRef","notActive","setNotActive","handleSubmit","e","preventDefault","email","onSubmit","htmlFor","disabled","required","minLength","maxLength","type","autoComplete","ref","defaultValue","onChange","id","pattern","Form","title","children","submitBtnText","question","nav","path","Register","onReg","loading","password","Preloader","Login","onAuth","Promo","href","AboutProject","Techs","AboutMe","myPhoto","rel","Portfolio","arrow","Footer","Date","getFullYear","Main","NotFound","history","useHistory","goBack","FilterCheckbox","onShortMovies","isShortMovies","defaultChecked","SearchForm","onSearchMovies","onSearchSavedMovies","searchValue","isInfoTooltipOpen","search","setSearch","searchSaved","setSearchSaved","isSearchValid","setIsSearchValid","location","useLocation","pathname","useEffect","setItem","placeholder","keyword","MoviesCard","movie","onAddMovie","onDeleteMovie","onDislikeMovie","userSavedMovies","isLiked","find","item","movieId","cardLikeButtonClassName","nameRU","duration","image","url","window","open","trailerLink","trailer","MoviesCardMore","onMoreClick","showButtonMore","MoviesCardList","movies","windowResizing","setWindowResizing","shownMovies","setShownMovies","shownMoviesCount","setShownMoviesCount","setShowButtonMore","addedMoviesCount","setAddedMoviesCount","windowWidth","innerWidth","slice","length","timeout","handleResize","clearTimeout","setTimeout","addEventListener","removeEventListener","map","_id","reverse","Movies","savedMovies","ProtectedRoute","Component","component","props","BASE_URL","MOVIES_URL","handleResponse","res","ok","json","Promise","reject","status","deleteMovie","fetch","credentials","method","headers","Accept","then","getSavedMovies","InfoTooltip","onClose","isSuccess","infoMessage","ImgSuccess","ImgBad","buttonClose","errorMessages","App","setLoggedIn","setLoading","setCurrentUser","setMovies","setSavedMovies","setIsInfoTooltipOpen","setIsSuccess","setInfoMessage","setSearchValue","setIsShortMovies","filter","owner","handleAuthorization","body","JSON","stringify","mainApi","jwt","console","log","push","catch","closeInfoTooltip","handleShortMovies","checked","handleSearchMoviesByKeyword","foundMovies","forEach","toLowerCase","indexOf","closeByEscape","key","document","token","all","info","parse","sessionStorage","onbeforeunload","Provider","newMovie","country","director","year","description","thumbnail","formats","nameEN","movieForDelete","resMovies","searchResult","finally","SavedMovies","removeItem","clear","ReactDOM","render","StrictMode","getElementById"],"mappings":"irBAAe,G,MAAA,IAA0B,kC,OCa1BA,MARf,WACI,OACI,cAAC,IAAI,CAACC,GAAG,IAAIC,UAAU,OAAM,SACzB,qBAAKC,IAAKC,EAAMC,IAAI,kD,MC+CjBC,MAnDf,SAAgB,GAAoB,IAAnBC,EAAM,EAANA,OAAQC,EAAO,EAAPA,QACrB,OACI,qBAAKN,UAAWK,EAAS,0BAA4B,SAAS,SAC1D,sBAAKL,UAAU,oBAAmB,UAC9B,wBAAQA,UAAU,iBAAiBO,QAASD,IAC5C,qBAAIN,UAAU,gBAAe,UACzB,6BACI,cAAC,IAAO,CACJQ,OAAK,EACLT,GAAG,IACHU,gBAAgB,sBAChBT,UAAU,eAAc,0DAKhC,6BACI,cAAC,IAAO,CACJD,GAAG,UACHU,gBAAgB,sBAChBT,UAAU,eAAc,oDAKhC,6BACI,cAAC,IAAO,CACJD,GAAG,gBACHU,gBAAgB,sBAChBT,UAAU,eAAc,0HAMpC,oBAAIA,UAAU,yCAAwC,SAClD,6BACI,eAAC,IAAI,CACDD,GAAG,WACHC,UAAU,6CAA4C,uDAGtD,qBAAKA,UAAU,mCCmC5BU,MA3Ef,SAAoB,GAAmB,IAAlBC,EAAI,EAAJA,KACjB,GAD+B,EAARC,SACiBC,IAAMC,UAAS,IAAM,mBAAtDC,EAAY,KAAEC,EAAe,KAUpC,OACI,sBAAKhB,UAAU,MAAK,UAChB,cAAC,EAAI,IACJiB,aAAaC,QAAQ,OAClB,qCACI,qCACI,qBAAIlB,UAAU,kCAAiC,UAC3C,6BACI,cAAC,IAAO,CACJD,GAAG,UACHC,UAAWW,EAAO,iEAAmE,6CAA6C,oDAK1I,6BACI,cAAC,IAAO,CACJZ,GAAG,gBACHC,UAAWW,EAAO,iEAAmE,4CAA4C,0HAM7I,oBAAIX,UAAU,mCAAkC,SAC5C,6BACI,eAAC,IAAI,CACDD,GAAG,WACHC,UAAU,6CAA4C,uDAGtD,qBAAKA,UAAU,gCAK/B,wBAAQA,UAAWW,EAAO,8CAAgD,qBAClEJ,QA7CxB,WACIS,GAAgB,SA+CR,qBAAIhB,UAAU,iCAAgC,UAC1C,6BACI,cAAC,IAAI,CACDD,GAAG,UACHC,UAAU,6CAA4C,kFAK9D,6BACI,cAAC,IAAI,CACDD,GAAG,UACHC,UAAU,6CAA4C,iDAOtE,cAAC,EAAM,CAACK,OAAQU,EAAcT,QA/DtC,WACIU,GAAgB,UCFTG,MARf,SAAgB,GAAmB,IAAlBP,EAAQ,EAARA,SAAUD,EAAI,EAAJA,KACvB,OACI,wBAAQX,UAAWW,EAAO,SAAW,wBAAwB,SACzD,cAAC,EAAU,CAACC,SAAUA,EAAUD,KAAMA,OCLrCS,EAAqBP,IAAMQ,gB,QCiBzBC,MAjBf,WACI,MAA4BT,IAAMC,SAAS,IAAG,mBAAvCS,EAAM,KAAEC,EAAS,KACxB,EAA4BX,IAAMC,SAAS,IAAG,mBAAvCW,EAAM,KAAEC,EAAS,KACxB,EAA8Bb,IAAMC,UAAS,GAAM,mBAA5Ca,EAAO,KAAEC,EAAU,KAW1B,MAAO,CAACL,SAAQM,aATK,SAACC,GAClB,IAAMC,EAASD,EAAMC,OACfC,EAAOD,EAAOC,KACdC,EAAQF,EAAOE,MACrBT,EAAU,2BAAID,GAAM,kBAAGS,EAAOC,KAC9BP,EAAU,2BAAID,GAAM,kBAAGO,EAAOD,EAAOG,qBACrCN,EAAWG,EAAOI,QAAQ,QAAQC,kBAGRX,SAAQE,YC6F3BU,MAvGf,SAAiB,GAA4B,IAA3BC,EAAS,EAATA,UAAWC,EAAY,EAAZA,aACnBC,EAAc3B,IAAM4B,WAAWrB,GAC/BsB,EAAW7B,IAAM8B,SACvB,EAAkC9B,IAAMC,UAAS,GAAK,mBAA/C8B,EAAS,KAAEC,EAAY,KAG9B,EAAgDvB,IAAzCC,EAAM,EAANA,OAAQM,EAAY,EAAZA,aAAcJ,EAAM,EAANA,OAAQE,EAAO,EAAPA,QAOrC,SAASmB,EAAaC,GAClBA,EAAEC,iBACEzB,EAAOS,OAASQ,EAAYR,MAAQT,EAAO0B,QAAUT,EAAYS,QACjEV,EACIhB,EAAOS,MAAQQ,EAAYR,KAC3BT,EAAO0B,OAAST,EAAYS,OAKpCJ,GAAa,IAGjB,OACI,gCACI,cAAC,EAAM,IACP,sBAAK7C,UAAU,UAAS,UACpB,qBAAIA,UAAU,oBAAmB,mDAAUwC,EAAYR,KAAI,OAC3D,uBAAMhC,UAAU,gBAAgBkD,SAAUJ,EAAa,UACnD,sBAAK9C,UAAU,yCAAwC,UACnD,uBAAOmD,QAAQ,OAAOnD,UAAU,iBAAgB,gCAGhD,uBACIoD,SAAUR,EACVS,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVvD,UAAU,iBACVgC,KAAK,OACLwB,KAAK,OACLC,aAAa,KACbC,IAAKhB,EACLiB,aAAcnB,EAAYR,KAC1B4B,SAAU/B,EACVgC,GAAG,YAGX,sBAAM7D,UAAU,sBAAqB,SAAEyB,EAAOO,OAC9C,sBAAKhC,UAAU,0CAAyC,UACpD,uBAAOmD,QAAQ,QAAQnD,UAAU,iBAAgB,oBAGjD,uBACIoD,SAAUR,EACVS,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVG,IAAKhB,EACL1C,UAAU,iBACVwD,KAAK,QACLxB,KAAK,QACLyB,aAAa,KACbI,GAAG,QACHD,SAAU/B,EACV8B,aAAcnB,EAAYS,MAC1Ba,QAjER,wDAoEA,sBAAM9D,UAAU,sBAAqB,SAAEyB,EAAOwB,WAEjDL,EACG,wBACI5C,UAAU,uCACVO,QArEpB,SAA8BwC,GAC1BA,EAAEC,iBACFH,GAAcD,IAmEgC,4FAKlC,wBACIY,KAAK,SACLxD,UAAU,uCACVO,QAASuC,EACTM,UAAWzB,EAAQ,oEAK3B,wBACI6B,KAAK,SACLxD,UAAU,uCACVO,QAAS+B,EAAU,iH,YC9CxByB,MAjDf,SAAc,GASI,IARA/B,EAAI,EAAJA,KACAkB,EAAQ,EAARA,SACAc,EAAK,EAALA,MACAC,EAAQ,EAARA,SACAC,EAAa,EAAbA,cACAC,EAAQ,EAARA,SACAC,EAAG,EAAHA,IACAzC,EAAO,EAAPA,QAEd,OACI,uBAAM3B,UAAU,OAAOgC,KAAMA,EAAMkB,SAAUA,EAAS,UAClD,sBAAKlD,UAAU,kBAAiB,UAC5B,cAAC,EAAI,IACL,oBAAIA,UAAU,eAAc,SAAEgE,IAC7BC,EACD,wBACIjE,UACI2B,EAAU,sBAAwB,8BAEtC6B,KAAK,SAAQ,SAEZU,OAGT,cAAC,IAAK,CAACG,KAAK,UAAS,SACjB,eAAC,IAAO,CACJtE,GAAG,UACHC,UAAU,YACVS,gBAAgB,mBAAkB,UAElC,mBAAGT,UAAU,iBAAgB,SAAEmE,IAC9BC,OAGT,cAAC,IAAK,CAACC,KAAK,UAAS,SACjB,eAAC,IAAO,CACJtE,GAAG,UACHC,UAAU,YACVS,gBAAgB,mBAAkB,UAElC,mBAAGT,UAAU,iBAAgB,SAAEmE,IAC9BC,WCmCNE,MA7Ef,SAAkB,GAAmB,IAAlBC,EAAK,EAALA,MAAOC,EAAO,EAAPA,QACtB,EAAgDlD,IAAzCC,EAAM,EAANA,OAAQM,EAAY,EAAZA,aAAcJ,EAAM,EAANA,OAAQE,EAAO,EAAPA,QAQrC,OACI,cAAC,EAAI,CACDK,KAAK,WACLgC,MAAM,+FACNE,cACIM,EAAU,2IAA+B,+GAE7CL,SAAS,uHACTC,IAAI,iCACJlB,SAdR,SAAsBH,GAClBA,EAAEC,iBACFuB,EAAMhD,EAAOS,KAAMT,EAAO0B,MAAO1B,EAAOkD,WAapC9C,QAASA,EAAQ,SAEjB,qBAAK3B,UAAU,WAAU,SACrB,sBAAKA,UAAU,SAAQ,UACnB,uBAAOA,UAAU,wBAAwBmD,QAAQ,OAAM,gCAGvD,uBACIE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVvD,UAAU,4CACVgC,KAAK,OACLwB,KAAK,OACLC,aAAa,KACbxB,MAAOV,EAAOS,MAAQ,GACtB4B,SAAU/B,EACVgC,GAAG,SAEP,sBAAM7D,UAAU,uBAAsB,SAAEyB,EAAOO,OAC/C,uBAAOhC,UAAU,wBAAwBmD,QAAQ,QAAO,oBAGxD,uBACIE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVvD,UAAU,4CACVwD,KAAK,QACLxB,KAAK,QACLyB,aAAa,KACbxB,MAAOV,EAAO0B,OAAS,GACvBW,SAAU/B,EACVgC,GAAG,QACHC,QAnDJ,mCAqDA,sBAAM9D,UAAU,uBAAsB,SAAEyB,EAAOwB,QAC/C,uBAAOjD,UAAU,wBAAwBmD,QAAQ,WAAU,kDAG3D,uBACIE,UAAQ,EACRrD,UAAU,+CACVwD,KAAK,WACLxB,KAAK,WACLyB,aAAa,KACbxB,MAAOV,EAAOkD,UAAY,GAC1Bb,SAAU/B,EACVyB,UAAU,IACVO,GAAG,aAEP,sBAAM7D,UAAU,uBAAsB,SAAEyB,EAAOgD,mBC9DpDC,G,YAVG,WACd,OACI,qBAAK1E,UAAU,YAAW,SACtB,qBAAKA,UAAU,uBAAsB,SACjC,sBAAMA,UAAU,2BC2DjB2E,MA5Df,SAAe,GAAoB,IAAnBC,EAAM,EAANA,OAAQJ,EAAO,EAAPA,QACpB,EAAgDlD,IAAzCC,EAAM,EAANA,OAAQM,EAAY,EAAZA,aAAcJ,EAAM,EAANA,OAAQE,EAAO,EAAPA,QAQrC,OACI,eAAC,EAAI,CACDK,KAAK,QACLgC,MAAM,iEACNE,cAAeM,EAAU,iGAAwB,iCACjDL,SAAS,oIACTC,IAAI,qEACJlB,SAZR,SAAsBH,GAClBA,EAAEC,iBACF4B,EAAOrD,EAAO0B,MAAO1B,EAAOkD,WAWxB9C,QAASA,EAAQ,UAEhB6C,EAAU,cAAC,EAAS,IAAK,6BAC1B,qBAAKxE,UAAU,QAAO,SAClB,sBAAKA,UAAU,SAAQ,UACnB,uBAAOA,UAAU,qBAAqBmD,QAAQ,QAAO,oBAGrD,uBACIE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVvD,UAAU,sCACVwD,KAAK,QACLxB,KAAK,QACLyB,aAAa,KACbxB,MAAOV,EAAO0B,OAAS,GACvBW,SAAU/B,EACVgC,GAAG,QACHC,QAlCJ,mCAoCA,sBAAM9D,UAAU,oBAAmB,SAAEyB,EAAOwB,QAC5C,uBAAOjD,UAAU,qBAAqBmD,QAAQ,WAAU,kDAGxD,uBACIE,UAAQ,EACRrD,UAAU,yCACVwD,KAAK,WACLxB,KAAK,WACLyB,aAAa,KACbxB,MAAOV,EAAOkD,UAAY,GAC1Bb,SAAU/B,EACVyB,UAAU,IACVO,GAAG,aAEP,sBAAM7D,UAAU,oBAAmB,SAAEyB,EAAOgD,oB,MCrCjDI,MAnBf,WACI,OACI,sBAAK7E,UAAU,QAAO,UAClB,sBAAKA,UAAU,aAAY,UACvB,oBAAIA,UAAU,oBAAmB,4RAGjC,oBAAIA,UAAU,kBAAiB,oWAG/B,mBAAG8E,KAAK,WAAW9E,UAAU,kBAAiB,0FAIlD,qBAAKA,UAAU,kB,MC4BZ+E,MA1Cf,WACI,OACI,sBAAK/E,UAAU,UAAU6D,GAAG,UAAS,UACjC,oBAAI7D,UAAU,kBAAiB,+DAC/B,sBAAKA,UAAU,gBAAe,UAC1B,gCACI,oBAAIA,UAAU,uBAAsB,2LAGpC,mBAAGA,UAAU,4BAA2B,6hBAK5C,gCACI,oBAAIA,UAAU,uBAAsB,kMAGpC,mBAAGA,UAAU,4BAA2B,6hBAMhD,sBAAKA,UAAU,iBAAgB,UAC3B,sBAAKA,UAAU,sBAAqB,UAChC,oBAAIA,UAAU,iDAAgD,oDAG9D,mBAAGA,UAAU,uBAAsB,yBAEvC,sBAAKA,UAAU,uBAAsB,UACjC,oBAAIA,UAAU,kDAAiD,oDAG/D,mBAAGA,UAAU,uBAAsB,iC,MCXxCgF,MAxBf,WACI,OACI,sBAAKhF,UAAU,QAAO,UAClB,oBAAIA,UAAU,gBAAe,0EAC7B,sBAAKA,UAAU,cAAa,UACxB,oBAAIA,UAAU,qBAAoB,4EAClC,oBAAIA,UAAU,mBAAkB,8cAKpC,qBAAIA,UAAU,mBAAkB,UAC5B,oBAAIA,UAAU,wBAAuB,kBACrC,oBAAIA,UAAU,wBAAuB,iBACrC,oBAAIA,UAAU,wBAAuB,gBACrC,oBAAIA,UAAU,wBAAuB,mBACrC,oBAAIA,UAAU,wBAAuB,iBACrC,oBAAIA,UAAU,wBAAuB,wBACrC,oBAAIA,UAAU,wBAAuB,4BCrBtC,G,MAAA,IAA0B,sCCsD1BiF,MAlDf,WACI,OACI,sBAAKjF,UAAU,QAAO,UAClB,oBAAIA,UAAU,gBAAe,wDAC7B,sBAAKA,UAAU,cAAa,UACxB,8BACI,qBAAKC,IAAKiF,EAAS/E,IAAI,8CAAWH,UAAU,mBAEhD,sBAAKA,UAAU,wBAAuB,UAClC,oBAAIA,UAAU,mBAAkB,4CAChC,oBAAIA,UAAU,uBAAsB,wJACpC,mBAAGA,UAAU,mBAAkB,ifAI/B,mBAAGA,UAAU,mBAAkB,2QAG/B,mBAAGA,UAAU,mBAAkB,0cAI/B,qBAAIA,UAAU,oBAAmB,UAC7B,6BACI,mBACI8E,KAAK,8BACL/C,OAAO,SACPoD,IAAI,aACJnF,UAAU,yBAAwB,wBAK1C,6BACI,mBACI8E,KAAK,sBACL/C,OAAO,SACPoD,IAAI,aACJnF,UAAU,yBAAwB,mCC1CnD,G,MAAA,IAA0B,yCC2D1BoF,MAvDf,WACI,OACI,sBAAKpF,UAAU,YAAW,UACtB,oBAAIA,UAAU,oBAAmB,oEACjC,qBAAIA,UAAU,mBAAkB,UAC5B,oBAAIA,UAAU,kBAAiB,SAC3B,oBACI8E,KAAK,0CACL/C,OAAO,SACPoD,IAAI,aACJnF,UAAU,wBAAuB,4FAGjC,qBACIC,IAAKoF,EACLlF,IAAI,wHACJH,UAAU,8BAItB,oBAAIA,UAAU,kBAAiB,SAC3B,oBACI8E,KAAK,4CACL/C,OAAO,SACPoD,IAAI,aACJnF,UAAU,wBAAuB,kGAGjC,qBACIC,IAAKoF,EACLlF,IAAI,wHACJH,UAAU,8BAItB,oBAAIA,UAAU,kBAAiB,SAC3B,oBACI8E,KAAK,sCACL/C,OAAO,SACPoD,IAAI,aACJnF,UAAU,wBAAuB,8JAGjC,qBACIC,IAAKoF,EACLlF,IAAI,wHACJH,UAAU,qC,MCFvBsF,MA7Cf,WACI,OACI,yBAAQtF,UAAU,SAAQ,UACtB,qBAAKA,UAAU,gBAAe,0MAG9B,sBAAKA,UAAU,eAAc,UACzB,oBAAGA,UAAU,oBAAmB,mBAAS,IAAIuF,MAAOC,iBACpD,qBAAIxF,UAAU,qBAAoB,UAC9B,oBAAIA,UAAU,yBAAwB,SAClC,mBACI8E,KAAK,+BACL/C,OAAO,SACPoD,IAAI,aACJnF,UAAU,yBAAwB,2GAK1C,oBAAIA,UAAU,yBAAwB,SAClC,mBACI8E,KAAK,sBACL/C,OAAO,SACPoD,IAAI,aACJnF,UAAU,yBAAwB,sBAK1C,oBAAIA,UAAU,yBAAwB,SAClC,mBACI8E,KAAK,8BACL/C,OAAO,SACPoD,IAAI,aACJnF,UAAU,yBAAwB,kCCV/CyF,MAlBf,SAAc,GAAa,IAAZ7E,EAAQ,EAARA,SAGX,OACI,iCACI,cAAC,EAAM,CAACD,MAJH,EAIeC,SAAUA,IAC9B,qCACI,cAAC,EAAK,IACN,cAAC,EAAY,IACb,cAAC,EAAK,IACN,cAAC,EAAO,IACR,cAAC,EAAS,OAEd,cAAC,EAAM,Q,MCCJ8E,MAlBf,WACI,IAAIC,EAAUC,cAEd,OACI,sBAAK5F,UAAU,aAAY,UACvB,oBAAIA,UAAU,oBAAmB,iBACjC,mBAAGA,UAAU,kBAAiB,sHAC9B,cAAC,IAAI,CACDD,GAAG,cACHC,UAAU,kBACVO,QAASoF,EAAQE,OAAO,gD,YCIzBC,MAhBf,SAAwB,GAAiC,IAAhCC,EAAa,EAAbA,cAAeC,EAAa,EAAbA,cACpC,OACI,sBAAKhG,UAAU,WAAU,UACrB,wBAAOA,UAAU,mBAAkB,UAC/B,uBACIwD,KAAK,WACLI,SAAUmC,EACVE,eAAgBD,IAEpB,sBAAMhG,UAAU,wCAEpB,mBAAGA,UAAU,kBAAiB,4GCgE3BkG,MAzEf,SAAoB,GAOI,IANAC,EAAc,EAAdA,eACAJ,EAAa,EAAbA,cACAK,EAAmB,EAAnBA,oBACAJ,EAAa,EAAbA,cACAK,EAAW,EAAXA,YACAC,EAAiB,EAAjBA,kBAEpB,EAA4BzF,IAAMC,SAAS,IAAG,mBAAvCyF,EAAM,KAAEC,EAAS,KACxB,EAAsC3F,IAAMC,SAAS,IAAG,mBAAjD2F,EAAW,KAAEC,EAAc,KAClC,EAA0C7F,IAAMC,UAAS,GAAK,mBAAvD6F,EAAa,KAAEC,EAAgB,KAChCC,EAAWC,cAAcC,SA0B/B,OAPAlG,IAAMmG,WAAU,WACZR,EAAUvF,aAAaC,QAAQ,cAChC,IAEHL,IAAMmG,WAAU,cACb,CAACX,IAGA,sBACIrG,UAAU,SACVkD,SAAuB,YAAb2D,EArBlB,SAAkB9D,GACdA,EAAEC,iBACF/B,aAAagG,QAAQ,UAAWV,GAChCJ,EAAeI,IAGnB,SAA6BxD,GACzBA,EAAEC,iBACFoD,EAAoBK,IAakD,SAElE,sBAAKzG,UAAU,eAAc,UACzB,uBACIA,UAAU,qBACVwD,KAAK,OACLC,aAAa,MACbyD,aAAwB,OAAXb,QAAW,IAAXA,OAAW,EAAXA,EAAac,UAAW,iCACrC9D,UAAQ,EACRO,SApChB,SAAsBb,GAClByD,EAAUzD,EAAEhB,OAAOE,OACnByE,EAAe3D,EAAEhB,OAAOE,OACxB2E,EAAiB7D,EAAEhB,OAAOI,QAAQ,QAAQC,kBAkC9BgB,SAAUkD,IAEd,sBACItG,UACI2G,EAAgB,2BAA6B,oBAChD,iKAIL,sBAAK3G,UAAU,yBAAwB,UACnC,wBAAQA,UAAU,2BAA2BwD,KAAK,SAAQ,4CAG1D,cAAC,EAAc,CACXuC,cAAeA,EACfC,cAAeA,a,YCIxBoB,MAtEf,SAAoB,GAMI,IALAC,EAAK,EAALA,MACAC,EAAU,EAAVA,WACAC,EAAa,EAAbA,cACAC,EAAc,EAAdA,eACAC,EAAe,EAAfA,gBAEdZ,EAAWC,cAAcC,SAEzBW,EAAUD,EAAgBE,MAAK,SAACC,GAAI,OAAKA,EAAKC,UAAYR,EAAMxD,MAEhEiE,EAAuB,6BACzBJ,EAAU,0BAA4B,oBAqB1C,OACI,oBAAI1H,UAAU,OAAM,SAChB,sBAAKA,UAAU,kBAAiB,UAC5B,sBAAKA,UAAU,cAAa,UACxB,oBAAIA,UAAU,mBAAkB,SAAEqH,EAAMU,SACxC,qBAAK/H,UAAU,uBAAsB,SAAEqH,EAAMW,WAC/B,YAAbnB,EACG,wBACI,aAAW,OACXrD,KAAK,SACLxD,UAAW8H,EACXvH,QAASmH,EArBjC,WACIF,EAAeH,IATnB,WACIC,EAAWD,MA+BK,wBACI,aAAW,SACX7D,KAAK,SACLxD,UAAU,uCACVO,QAhCxB,WACIgH,EAAcF,SAmCN,qBACIrH,UAAU,YACVC,IACiB,kBAAb4G,EACMQ,EAAMY,MAAK,sCACoBZ,EAAMY,MAAMC,KAErD/H,IAAKkH,EAAMU,OACXxH,QApChB,WACiB,YAAbsG,EACMsB,OAAOC,KAAKf,EAAMgB,YAAa,UAC/BF,OAAOC,KAAKf,EAAMiB,QAAS,mB,MCnB1BC,MAZf,SAAwB,GAAgC,IAA/BC,EAAW,EAAXA,YACrB,OADgD,EAAdC,gBAG1B,qBAAKzI,UAAU,OAAM,SACjB,wBAAQA,UAAU,eAAeO,QAASiI,EAAY,mCC6FvDE,MA9Ff,SAAwB,GAMI,IALAC,EAAM,EAANA,OACArB,EAAU,EAAVA,WACAC,EAAa,EAAbA,cACAC,EAAc,EAAdA,eACAC,EAAe,EAAfA,gBAExB,EAA4C3G,oBAAS,GAAM,mBAApD8H,EAAc,KAAEC,EAAiB,KACxC,EAAsChI,IAAMC,SAAS,IAAG,mBAAjDgI,EAAW,KAAEC,EAAc,KAClC,EAAgDlI,IAAMC,SAAS,GAAE,mBAA1DkI,EAAgB,KAAEC,EAAmB,KAC5C,EAA4CpI,IAAMC,UAAS,GAAM,mBAA1D2H,EAAc,KAAES,EAAiB,KACxC,EAAgDrI,IAAMC,SAAS,GAAE,mBAA1DqI,EAAgB,KAAEC,EAAmB,KACtCvC,EAAWC,cAAcC,SACzBsC,EAAclB,OAAOmB,WAyC3B,OAhCAzI,IAAMmG,WAAU,WACRqC,GAAe,KACfJ,EAAoB,GACpBG,EAAoB,KAEpBH,EAAoB,GACpBG,EAAoB,MAEzB,CAACC,EAAaT,IAEjB/H,IAAMmG,WAAU,WACZ+B,EAAeJ,EAAOY,MAAM,EAAGP,IAC3BL,EAAOa,QAAUR,EACjBE,GAAkB,GAElBA,GAAkB,KAEvB,CAACF,EAAkBL,IAEtB9H,IAAMmG,WAAU,WACZ,IAAIyC,EACEC,EAAe,WACjBC,aAAaF,GACbZ,GAAkB,GAClBY,EAAUG,YAAW,WACjBf,GAAkB,KACnB,MAGP,OADAV,OAAO0B,iBAAiB,SAAUH,GAC3B,kBAAMvB,OAAO2B,oBAAoB,SAAUJ,MACnD,IAGC,oBAAI1J,UAAU,QAAO,SACH,YAAb6G,EACG,qCACKiC,EAAYiB,KAAI,SAAC1C,GAAK,OACnB,cAAC,EAAU,CAEPA,MAAOA,EACPC,WAAYA,EACZC,cAAeA,EACfC,eAAgBA,EAChBC,gBAAiBA,GALZJ,EAAMxD,IAAMwD,EAAM2C,QAQ/B,cAAC,EAAc,CACXxB,YAtDpB,WACIO,EAAeJ,EAAOY,MAAM,EAAGT,EAAYU,OAASL,IAChDL,EAAYU,QAAUb,EAAOa,OAASL,GACtCD,GAAkB,IAoDNT,eAAgBA,OAIxB,mCACKhB,EACI8B,MAAM,GACNU,UACAF,KAAI,SAAC1C,GAAK,OACP,cAAC,EAAU,CAEPA,MAAOA,EACPC,WAAYA,EACZC,cAAeA,EACfC,eAAgBA,EAChBC,gBAAiBA,GALZJ,EAAMxD,IAAMwD,EAAM2C,aC1CxCE,MArCf,SAAgB,GAWI,IAVAvB,EAAM,EAANA,OACAnE,EAAO,EAAPA,QACA8C,EAAU,EAAVA,WACAE,EAAc,EAAdA,eACArB,EAAc,EAAdA,eACAJ,EAAa,EAAbA,cACAC,EAAa,EAAbA,cACAK,EAAW,EAAXA,YACAC,EAAiB,EAAjBA,kBACAmB,EAAe,EAAfA,gBAEhB,OACI,qCACI,cAAC,EAAM,IACP,cAAC,EAAU,CACPtB,eAAgBA,EAChBJ,cAAeA,EACfM,YAAaA,EACbL,cAAeA,EACfM,kBAAmBA,IAEtB9B,EACG,cAAC,EAAS,IAEV,cAAC,EAAc,CACXmE,OAAQA,EACRrB,WAAYA,EACZE,eAAgBA,EAChBC,gBAAiBA,IAGzB,cAAC,EAAM,QCLJ0C,MA5Bf,SAAqB,GAQI,IAPAxB,EAAM,EAANA,OACAlB,EAAe,EAAfA,gBACAjD,EAAO,EAAPA,QACA+C,EAAa,EAAbA,cACAxB,EAAa,EAAbA,cACAK,EAAmB,EAAnBA,oBACAE,EAAiB,EAAjBA,kBAErB,OACI,qCACI,cAAC,EAAM,IACP,cAAC,EAAU,CACPF,oBAAqBA,EACrBL,cAAeA,EACfO,kBAAmBA,IAEvB,cAAC,EAAc,CACXmB,gBAAiBA,EACjBjD,QAASA,EACT+C,cAAeA,EACfoB,OAAQA,IAEZ,cAAC,EAAM,Q,wBCfJyB,EAXQ,SAAH,GAA4C,IAA3BC,EAAS,EAApBC,UAAyBC,EAAK,iBACpD,OACI,cAAC,IAAK,UACD,kBACGA,EAAM3J,SAAW,cAACyJ,EAAS,eAAKE,IAAY,cAAC,IAAQ,CAACxK,GAAG,UCPnEyK,EAAW,wBACXC,EAAa,+BAENC,EAAiB,SAACC,GAC3B,OAAIA,EAAIC,GACGD,EAAIE,OAEJC,QAAQC,OAAO,yCAAD,OAAYJ,EAAIK,UA8FhCC,EAAc,SAACjB,GACxB,OAAOkB,MAAM,GAAD,OAAIV,EAAQ,mBAAWR,GAAO,CACtCmB,YAAa,UACbC,OAAQ,SACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,sBAErBC,MAAK,SAACZ,GAAG,OAAKD,EAAeC,OAIvBa,EAAiB,WAC1B,OAAON,MAAM,GAAD,OAAIV,EAAQ,WAAW,CAC/BW,YAAa,UACbC,OAAQ,MACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,sBAErBC,MAAK,SAACZ,GAAG,OAAKD,EAAeC,OCzHrB,MAA0B,sCCA1B,MAA0B,kCCA1B,MAA0B,sC,MC8B1Bc,OAxBf,SAAqB,GAA4C,IAA3CpL,EAAM,EAANA,OAAQqL,EAAO,EAAPA,QAASC,EAAS,EAATA,UAAWC,EAAW,EAAXA,YAC9C,OACI,sBAAK5L,UAAS,gBAAWK,EAAS,gBAAkB,IAAK,UACrD,qBAAKL,UAAU,gBAAgBO,QAASmL,IACxC,sBAAK1L,UAAU,aAAY,UACvB,qBAAKC,IAAK0L,EAAYE,EAAaC,EAAQ3L,IAAKyL,IAChD,oBAAI5L,UAAU,oBAAmB,SAAE4L,IACnC,wBACI,aAAW,QACXpI,KAAK,SACLxD,UAAU,yBACVO,QAASmL,EAAQ,SAEjB,qBACIzL,IAAK8L,EACL/L,UAAU,oBACVG,IAAI,kICtBrB,SAAS6L,GAAcjJ,GAC1B,MAAU,8CAANA,EACO,kKACM,8CAANA,EACA,kIACM,8CAANA,EACA,8CACM,8CAANA,EACA,+FACM,8CAANA,EACA,0LACM,8CAANA,EACA,0NACM,8CAANA,EACA,qqBAEA,kFC8SAkJ,OA7Sf,WACI,IAAMtG,EAAUC,cAChB,EAAgC/E,IAAMC,UAAS,GAAM,mBAA9CF,EAAQ,KAAEsL,EAAW,KAC5B,EAA8BrL,IAAMC,UAAS,GAAM,mBAA5C0D,EAAO,KAAE2H,EAAU,KAC1B,EAAsCtL,IAAMC,SAAS,IAAG,mBAAjD0B,EAAW,KAAE4J,EAAc,KAClC,EAA4BvL,IAAMC,SAAS,IAAG,mBAAvC6H,EAAM,KAAE0D,EAAS,KACxB,EAAsCxL,IAAMC,SAAS,IAAG,mBAAjDqJ,EAAW,KAAEmC,EAAc,KAClC,EAAkDzL,IAAMC,UAAS,GAAM,mBAAhEwF,EAAiB,KAAEiG,EAAoB,KAC9C,EAAkC1L,IAAMC,UAAS,GAAM,mBAAhD6K,EAAS,KAAEa,EAAY,KAC9B,EAAsC3L,IAAMC,SAAS,IAAG,mBAAjD8K,EAAW,KAAEa,EAAc,KAClC,EAAsC5L,IAAMC,SAAS,IAAG,oBAAjDuF,GAAW,MAAEqG,GAAc,MAClC,GAA0C7L,IAAMC,UAAS,GAAM,qBAAxDkF,GAAa,MAAE2G,GAAgB,MAChClF,GAAkB0C,EAAYyC,QAChC,SAACvF,GAAK,aAAMA,EAAMwF,QAAwB,QAAf,EAACxF,EAAMwF,MAAMhJ,UAAE,QAAIwD,EAAMwF,SAAWrK,EAAYwH,OA0B/E,SAAS8C,GAAoB7J,EAAOwB,GAChC0H,GAAW,GNhCM,SAAClJ,EAAOwB,GAC7B,OAAOyG,MAAM,GAAD,OAAIV,EAAQ,WAAW,CAC/BW,YAAa,UACbC,OAAQ,OACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpByB,KAAMC,KAAKC,UAAU,CAAEhK,QAAOwB,eAC/B8G,MAAK,SAACZ,GAAG,OAAKD,EAAeC,MMwB5BuC,CACejK,EAAOwB,GACjB8G,MAAK,SAACZ,GACH1J,aAAagG,QAAQ,MAAO0D,EAAIwC,KAChCjB,GAAY,GACZkB,QAAQC,IAAI1C,EAAIwC,KAChBxH,EAAQ2H,KAAK,WACbnB,GAAW,GACXK,GAAa,GACbC,EAAe,iJACfF,GAAqB,MAExBgB,OAAM,SAACxK,GACJoJ,GAAW,GACXK,GAAa,GACbC,EAAeT,GAAcjJ,IAC7BwJ,GAAqB,MAyEjC,SAASiB,KACLjB,GAAqB,GAGzB,SAASkB,GAAkB1K,GACvB4J,GAAiB5J,EAAEhB,OAAO2L,SAG9B,SAASC,GAA4BhF,EAAQxB,GACzC,IAAIyG,EAAc,GAUlB,OATAjF,EAAOkF,SAAQ,SAACxG,GACRA,EAAMU,OAAO+F,cAAcC,QAAQ5G,IAAY,IAC3CnB,GACAqB,EAAMW,UAAY,IAAM4F,EAAYN,KAAKjG,GAEzCuG,EAAYN,KAAKjG,OAItBuG,EA6FX,OAjCA/M,IAAMmG,WAAU,WACZ,IAAMgH,EAAgB,SAACjL,GACL,WAAVA,EAAEkL,KACFT,MAIR,OADAU,SAASrE,iBAAiB,UAAWmE,GAC9B,kBAAME,SAASpE,oBAAoB,UAAWkE,MACtD,IAEHnN,IAAMmG,WAAU,WACZ,INvMmBmG,EMuMbgB,EAAQlN,aAAaC,QAAQ,OAC/BiN,GACArD,QAAQsD,IAAI,CN3LblD,MAAM,GAAD,OAAIV,EAAQ,aAAa,CACjCW,YAAa,UACbC,OAAQ,MACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,sBAErBC,MAAK,SAACZ,GAAG,OAAKD,EAAeC,MMoLYuC,KNzMrBC,EMyMkEgB,ENxMlFjD,MAAM,GAAD,OAAIV,EAAQ,aAAa,CACjCW,YAAa,UACbC,OAAQ,MACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChB,cAAgB,UAAD,OAAY6B,MAEhC5B,MAAK,SAACZ,GAAG,OAAKD,EAAeC,SMiMnBY,MAAK,YAA0B,IAAD,mBAAvB8C,EAAI,KAAElE,EAAW,KACrBiC,EAAeiC,GACf/B,EAAenC,GACf+B,GAAY,MAEfqB,OAAM,SAACxK,GACJ0J,EAAeT,GAAcjJ,IAC7BwJ,GAAqB,QAGlC,CAAC3L,IAEJC,IAAMmG,WAAU,WACZrB,EAAQ2H,KAAKN,KAAKsB,MAAMnG,OAAOoG,eAAerN,QAAQ,cAAgB,OACtEiH,OAAOqG,eAAiB,WACpBrG,OAAOoG,eAAetH,QAAQ,YAAa+F,KAAKC,UAAU9E,OAAOtB,SAASE,cAE/E,CAACpB,IAGA,cAACvE,EAAmBqN,SAAQ,CAACxM,MAAOO,EAAY,SAC5C,sBAAKxC,UAAU,MAAK,UAChB,eAAC,IAAM,WACH,cAAC,IAAK,CAACQ,OAAK,EAAC6D,KAAK,IAAIiG,UAAW7E,EAAM7E,SAAUA,IACjD,cAAC,EAAc,CACXyD,KAAK,UACLiG,UAAWJ,EACXvB,OAAQA,EACRlB,gBAAiBA,GACjB7G,SAAUA,EACV4D,QAASA,EACT8C,WAvKpB,SAAwBoH,GN5BH,IAACrH,KM8BHqH,EN7BZxD,MAAM,GAAD,OAAIV,EAAQ,WAAW,CAC/BW,YAAa,UACbC,OAAQ,OACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpByB,KAAMC,KAAKC,UAAU,CACjB0B,QAAStH,EAAMsH,SAAW,kGAC1BC,SAAUvH,EAAMuH,UAAY,wBAC5B5G,SAAUX,EAAMW,UAAY,wBAC5B6G,KAAMxH,EAAMwH,MAAQ,wBACpBC,YAAazH,EAAMyH,YACnB7G,MAAM,GAAD,OAAKwC,GAAU,OAAGpD,EAAMY,MAAMC,KACnCI,QAASjB,EAAMgB,YACf0G,UAAU,GAAD,OAAKtE,GAAU,OAAGpD,EAAMY,MAAM+G,QAAQD,UAAU7G,KACzDH,OAAQV,EAAMU,OACdkH,OAAQ5H,EAAM4H,QAAU,wBACxBpH,QAASR,EAAMxD,OAEpB0H,MAAK,SAACZ,GAAG,OAAKD,EAAeC,OMUvBY,MAAK,SAACmD,GACHpC,EAAe,GAAD,mBAAKnC,GAAW,CAAEuE,QAEnCnB,OAAM,WACHd,EAAe,oJACfF,GAAqB,OAgKb/E,eA5JpB,SAA4BH,GACxB,IAAM6H,EAAiBzH,GAAgBE,MACnC,SAACC,GAAI,OAAKA,EAAKC,UAAYR,EAAMxD,MAErCqJ,EACiBgC,EAAelF,KAC3BuB,MAAK,WACFe,GAAe,SAACnC,GAAW,OACvBA,EAAYyC,QAAO,SAAChF,GAAI,OAAKA,IAASsH,WAG7C3B,OAAM,SAACxK,GACJ0J,EAAeT,GAAcjJ,IAC7BwJ,GAAqB,OAgJbpG,eAxGpB,SAA4BgB,GACxBgF,GAAW,GACXE,EAAU,ICvKPnB,MAAM,+CAAgD,CACzDG,QAAS,CACLC,OAAQ,mBACR,eAAgB,sBAErBC,MAAK,SAACZ,GAAG,OAAKD,EAAeC,MDsKvBY,MAAK,SAAC4D,GACH9C,EAAU8C,GACV,IAAMC,EAAezB,GAA4BwB,EAAWhI,GAChC,IAAxBiI,EAAa5F,QACb6C,EAAU,IACVE,GAAqB,GACrBE,EAAe,kGAEfxL,aAAagG,QAAQ,cAAe+F,KAAKC,UAAUmC,IACnD1C,GAAe,2BAAIrG,IAAW,IAAEc,QAASA,KACzClG,aAAagG,QAAQ,cAAe+F,KAAKC,UAAU,CAAC9F,aACpDkF,EAAUW,KAAKsB,MAAMrN,aAAaC,QAAQ,iBAC1CD,aAAagG,QAAQ,gBAAiB+F,KAAKC,UAAUjH,SAG5DuH,OAAM,WACHlB,EAAU,IACVE,GAAqB,GACrBE,EAAe,mGAElB4C,SAAQ,WACLlD,GAAW,OA8EHpG,cAAe0H,GACfpH,YAAaA,GACbL,cAAeA,GACfM,kBAAmBA,IAEvB,cAAC,EAAc,CACXjC,KAAK,gBACLiG,UAAWgF,EACX1O,SAAUA,EACV4D,QAASA,EACTmE,OAAQA,EACRlB,gBAAiBA,GACjBF,cAzJpB,SAA2BF,GACvB6F,EACiB7F,EAAM2C,KAClBuB,MAAK,WACFe,GAAe,SAACnC,GAAW,OACvBA,EAAYyC,QAAO,SAAChF,GAAI,OAAKA,IAASP,WAG7CkG,OAAM,SAACxK,GACJ0J,EAAeT,GAAcjJ,IAC7BwJ,GAAqB,OAgJbnG,oBAvFpB,SAAiCe,GAC7BgF,GAAW,GAEXe,IAEK3B,MAAK,SAACpB,GACHmC,EAAenC,GACf,IAAMiF,EAAezB,GAA4BxD,EAAahD,GAClC,IAAxBiI,EAAa5F,QACb8C,EAAe,IACfC,GAAqB,GACrBE,EAAe,iGAEfH,EAAe8C,MAGtB7B,OAAM,WACHjB,EAAe,IACfC,GAAqB,GACrBE,EAAe,mGAElB4C,SAAQ,WACLlD,GAAW,OAkEHpG,cAAe0H,GACfnH,kBAAmBA,IAEvB,cAAC,EAAc,CACX1F,SAAUA,EACVyD,KAAK,WACL9B,aA7MpB,SAA0BP,EAAMiB,IN1BT,SAACjB,EAAMiB,GAC9B,OAAOiI,MAAM,GAAD,OAAIV,EAAQ,aAAa,CACjCW,YAAa,UACbC,OAAQ,QACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpByB,KAAMC,KAAKC,UAAU,CAAEjL,OAAMiB,YAC9BsI,MAAK,SAACZ,GAAG,OAAKD,EAAeC,OMkB5BuC,CACiBlL,EAAMiB,GAClBsI,MAAK,SAACvJ,EAAMiB,GACTmJ,EAAepK,EAAMiB,GACrBuJ,GAAa,GACbD,GAAqB,GACrBE,EAAe,wIAElBc,OAAM,SAACxK,GACJ0J,EAAeT,GAAcjJ,IAC7BwJ,GAAqB,OAmMb/H,QAASA,EACTlC,UA1NpB,SAAuBS,GACnBA,EAAEC,iBACF/B,aAAasO,WAAW,OACxBtO,aAAasO,WAAW,eACxBtO,aAAasO,WAAW,eACxBtO,aAAasO,WAAW,iBACxBtO,aAAauO,QACbtD,GAAY,GACZvG,EAAQ2H,KAAK,MAmNGhD,UAAWjI,IAEf,cAAC,IAAK,CAACgC,KAAK,UAAS,SACjB,cAAC,EAAK,CAACO,OAAQkI,GAAqBtI,QAASA,MAEjD,cAAC,IAAK,CAACH,KAAK,UAAS,SACjB,cAAC,EAAQ,CAACE,MA9Q9B,SAA4BvC,EAAMiB,EAAOwB,GACrC0H,GAAW,GNtBK,SAACnK,EAAMiB,EAAOwB,GAClC,OAAOyG,MAAM,GAAD,OAAIV,EAAQ,WAAW,CAC/BW,YAAa,UACbC,OAAQ,OACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpByB,KAAMC,KAAKC,UAAU,CAAEjL,OAAMiB,QAAOwB,eACrC8G,MAAK,SAACZ,GAAG,OAAKD,EAAeC,MMc5BuC,CACclL,EAAMiB,EAAOwB,GACtB8G,MAAK,SAACZ,GACCA,IACAwB,GAAW,GACXK,GAAa,GACbC,EAAe,yKACfF,GAAqB,OAG5BhB,MAAK,WACFuB,GAAoB7J,EAAOwB,MAE9B8I,OAAM,SAACxK,GACJoJ,GAAW,GACXK,GAAa,GACbC,EAAeT,GAAcjJ,IAC7BwJ,GAAqB,OA2PwB/H,QAASA,MAElD,cAAC,IAAK,CAACH,KAAK,KAAKiG,UAAW5E,OAEhC,cAAC,GAAW,CACRrF,OAAQiG,EACRoF,QAAS8B,GACT7B,UAAWA,EACXC,YAAaA,UEjTjC6D,IAASC,OACP,cAAC,IAAMC,WAAU,UACb,cAAC,IAAU,UACP,cAAC,GAAG,QAGZzB,SAAS0B,eAAe,Y","file":"static/js/main.decc13b3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.2b411c6a.svg\";","import React from \"react\";\nimport \"./Logo.css\";\nimport {Link} from \"react-router-dom\";\nimport logo from \"../../images/logo.svg\";\n\nfunction Logo() {\n    return (\n        <Link to=\"/\" className=\"logo\">\n            <img src={logo} alt=\"логотип\"/>\n        </Link>\n    );\n}\n\nexport default Logo;\n","import React from \"react\";\nimport \"./NavTab.css\";\nimport {Link, NavLink} from \"react-router-dom\";\n\nfunction NavTab({isOpen, isClose}) {\n    return (\n        <div className={isOpen ? \"navtab__visible overlay\" : \"navtab\"}>\n            <nav className=\"navtab__container\">\n                <button className=\"navtab__button\" onClick={isClose}/>\n                <ul className=\"navtab__links\">\n                    <li>\n                        <NavLink\n                            exact\n                            to=\"/\"\n                            activeClassName=\"navtab__link_active\"\n                            className=\"navtab__link\"\n                        >\n                            Главная\n                        </NavLink>\n                    </li>\n                    <li>\n                        <NavLink\n                            to=\"/movies\"\n                            activeClassName=\"navtab__link_active\"\n                            className=\"navtab__link\"\n                        >\n                            Фильмы\n                        </NavLink>\n                    </li>\n                    <li>\n                        <NavLink\n                            to=\"/saved-movies\"\n                            activeClassName=\"navtab__link_active\"\n                            className=\"navtab__link\"\n                        >\n                            Сохраненные фильмы\n                        </NavLink>\n                    </li>\n                </ul>\n                <ul className=\"navtab__links navtab__link_for_account\">\n                    <li>\n                        <Link\n                            to=\"/profile\"\n                            className=\"nav__links-item nav__link_for_account-item\"\n                        >\n                            Аккаунт\n                            <div className=\"nav__account-icon\"/>\n                        </Link>\n                    </li>\n                </ul>\n            </nav>\n        </div>\n    );\n}\n\nexport default NavTab;\n","import React from \"react\";\nimport \"./Navigation.css\";\nimport {Link, NavLink} from \"react-router-dom\";\nimport Logo from \"../Logo/Logo\";\nimport NavTab from \"../Main/NavTab/NavTab\";\n\nfunction Navigation({main, loggedIn}) {\n    const [isMenuOpened, setIsMenuOpened] = React.useState(false);\n\n    function handleMenuOpen() {\n        setIsMenuOpened(true);\n    }\n\n    function handleMenuClose() {\n        setIsMenuOpened(false);\n    }\n\n    return (\n        <nav className=\"nav\">\n            <Logo/>\n            {localStorage.getItem(\"jwt\") ? (\n                <>\n                    <>\n                        <ul className=\"nav__links nav__links_for_films\">\n                            <li>\n                                <NavLink\n                                    to=\"/movies\"\n                                    className={main ? \"nav__links-item nav__links_for_films-item nav__links-item_main\" : \" nav__links-item nav__links_for_films-item\"}\n                                >\n                                    Фильмы\n                                </NavLink>\n                            </li>\n                            <li>\n                                <NavLink\n                                    to=\"/saved-movies\"\n                                    className={main ? \"nav__links-item nav__links_for_films-item nav__links-item_main\" : \"nav__links-item nav__links_for_films-item\"}\n                                >\n                                    Сохраненные фильмы\n                                </NavLink>\n                            </li>\n                        </ul>\n                        <ul className=\"nav__links nav__link_for_account\">\n                            <li>\n                                <Link\n                                    to=\"/profile\"\n                                    className=\"nav__links-item nav__link_for_account-item\"\n                                >\n                                    Аккаунт\n                                    <div className=\"nav__account-icon\"/>\n                                </Link>\n                            </li>\n                        </ul>\n                    </>\n                    <button className={main ? \"nav__button-burger nav__button-burger_white\" : \"nav__button-burger\"}\n                            onClick={handleMenuOpen}/>\n                </>\n            ) : (\n                <ul className=\"nav__links nav__links_for_user\">\n                    <li>\n                        <Link\n                            to=\"/signup\"\n                            className=\"nav__links-item nav__links_for_user-signup\"\n                        >\n                            Регистрация\n                        </Link>\n                    </li>\n                    <li>\n                        <Link\n                            to=\"/signin\"\n                            className=\"nav__links-item nav__links_for_user-signin\"\n                        >\n                            Войти\n                        </Link>\n                    </li>\n                </ul>\n            )}\n            <NavTab isOpen={isMenuOpened} isClose={handleMenuClose}/>\n        </nav>\n    );\n}\n\nexport default Navigation;\n","import React from \"react\";\nimport \"./Header.css\";\nimport Navigation from \"../Navigation/Navigation\";\n\nfunction Header({loggedIn, main}) {\n    return (\n        <header className={main ? \"header\" : \"header header__logged\"}>\n            <Navigation loggedIn={loggedIn} main={main}/>\n        </header>\n    );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\n\nfunction useFormWithValidation() {\n    const [values, setValues] = React.useState({});\n    const [errors, setErrors] = React.useState({});\n    const [isValid, setIsValid] = React.useState(false);\n\n    const handleChange = (event) => {\n        const target = event.target;\n        const name = target.name;\n        const value = target.value;\n        setValues({...values, [name]: value});\n        setErrors({...errors, [name]: target.validationMessage});\n        setIsValid(target.closest(\"form\").checkValidity());\n    };\n\n    return {values, handleChange, errors, isValid};\n}\n\nexport default useFormWithValidation;\n","import React from \"react\";\nimport \"./Profile.css\";\nimport Header from \"../Header/Header\";\nimport {CurrentUserContext} from \"../../contexts/CurrentUserContext\";\nimport useFormWithValidation from \"../../utils/useFormWithValidation\";\n\nfunction Profile({onSignOut, onUpdateUser}) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const inputRef = React.useRef();\n    const [notActive, setNotActive] = React.useState(true);\n    const pattern = \"([A-z0-9_.-]{1,})@([A-z0-9_.-]{1,}).([A-z]{2,8})\";\n\n    const {values, handleChange, errors, isValid} = useFormWithValidation();\n\n    function handleChangeBtnState(e) {\n        e.preventDefault();\n        setNotActive(!notActive);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        if (values.name !== currentUser.name && values.email !== currentUser.email) {\n            onUpdateUser(\n                values.name || currentUser.name,\n                values.email || currentUser.email\n            );\n        } else {\n            return;\n        }\n        setNotActive(true);\n    }\n\n    return (\n        <div>\n            <Header/>\n            <div className=\"profile\">\n                <h2 className=\"profile__greeting\">Привет, {currentUser.name}!</h2>\n                <form className=\"profile__form\" onSubmit={handleSubmit}>\n                    <div className=\"profile__input profile__input_for_name\">\n                        <label htmlFor=\"name\" className=\"profile__label\">\n                            Имя\n                        </label>\n                        <input\n                            disabled={notActive}\n                            required\n                            minLength=\"2\"\n                            maxLength=\"30\"\n                            className=\"profile__input\"\n                            name=\"name\"\n                            type=\"text\"\n                            autoComplete=\"on\"\n                            ref={inputRef}\n                            defaultValue={currentUser.name}\n                            onChange={handleChange}\n                            id=\"name\"\n                        />\n                    </div>\n                    <span className=\"profile__input-span\">{errors.name}</span>\n                    <div className=\"profile__input profile__input_for_email\">\n                        <label htmlFor=\"email\" className=\"profile__label\">\n                            E-mail\n                        </label>\n                        <input\n                            disabled={notActive}\n                            required\n                            minLength=\"2\"\n                            maxLength=\"30\"\n                            ref={inputRef}\n                            className=\"profile__input\"\n                            type=\"email\"\n                            name=\"email\"\n                            autoComplete=\"on\"\n                            id=\"email\"\n                            onChange={handleChange}\n                            defaultValue={currentUser.email}\n                            pattern={pattern}\n                        />\n                    </div>\n                    <span className=\"profile__input-span\">{errors.email}</span>\n                </form>\n                {notActive ? (\n                    <button\n                        className=\"profile__button profile__button-edit\"\n                        onClick={handleChangeBtnState}\n                    >\n                        Редактировать\n                    </button>\n                ) : (\n                    <button\n                        type=\"submit\"\n                        className=\"profile__button profile__button-edit\"\n                        onClick={handleSubmit}\n                        disabled={!isValid}\n                    >\n                        Сохранить\n                    </button>\n                )}\n                <button\n                    type=\"button\"\n                    className=\"profile__button profile__button-exit\"\n                    onClick={onSignOut}\n                >\n                    Выйти из аккаунта\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default Profile;\n","import React from \"react\";\nimport \"./Form.css\";\nimport Logo from \"../Logo/Logo\";\nimport {NavLink, Route} from \"react-router-dom\";\n\nfunction Form({\n                  name,\n                  onSubmit,\n                  title,\n                  children,\n                  submitBtnText,\n                  question,\n                  nav,\n                  isValid,\n              }) {\n    return (\n        <form className=\"form\" name={name} onSubmit={onSubmit}>\n            <div className=\"form__container\">\n                <Logo/>\n                <h2 className=\"form__header\">{title}</h2>\n                {children}\n                <button\n                    className={\n                        isValid ? \"form__submit-button\" : \"form__submit-button_disable\"\n                    }\n                    type=\"submit\"\n                >\n                    {submitBtnText}\n                </button>\n            </div>\n            <Route path=\"/signup\">\n                <NavLink\n                    to=\"/signin\"\n                    className=\"form__nav\"\n                    activeClassName=\"form__nav_active\"\n                >\n                    <p className=\"form__question\">{question}</p>\n                    {nav}\n                </NavLink>\n            </Route>\n            <Route path=\"/signin\">\n                <NavLink\n                    to=\"/signup\"\n                    className=\"form__nav\"\n                    activeClassName=\"form__nav_active\"\n                >\n                    <p className=\"form__question\">{question}</p>\n                    {nav}\n                </NavLink>\n            </Route>\n        </form>\n    );\n}\n\nexport default Form;\n","import React from \"react\";\nimport \"./Register.css\";\nimport Form from \"../Form/Form\";\nimport useFormWithValidation from \"../../utils/useFormWithValidation\";\n\nfunction Register({onReg, loading}) {\n    const {values, handleChange, errors, isValid} = useFormWithValidation();\n    const pattern = \"^[^@\\\\s]+@[^@\\\\s]+\\\\.[^@\\\\s]+$\";\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onReg(values.name, values.email, values.password);\n    }\n\n    return (\n        <Form\n            name=\"register\"\n            title=\"Добро пожаловать!\"\n            submitBtnText={\n                loading ? \"Выполняется регистрация...\" : \"Зарегистрироваться\"\n            }\n            question=\"Уже зарегистрированы?\"\n            nav=\"Войти\"\n            onSubmit={handleSubmit}\n            isValid={isValid}\n        >\n            <div className=\"register\">\n                <div className=\"inputs\">\n                    <label className=\"register__input-label\" htmlFor=\"name\">\n                        Имя\n                    </label>\n                    <input\n                        required\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        className=\"register__input register__input_for_email\"\n                        name=\"name\"\n                        type=\"text\"\n                        autoComplete=\"on\"\n                        value={values.name || \"\"}\n                        onChange={handleChange}\n                        id=\"name\"\n                    />\n                    <span className=\"register__input-span\">{errors.name}</span>\n                    <label className=\"register__input-label\" htmlFor=\"email\">\n                        E-mail\n                    </label>\n                    <input\n                        required\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        className=\"register__input register__input_for_email\"\n                        type=\"email\"\n                        name=\"email\"\n                        autoComplete=\"on\"\n                        value={values.email || \"\"}\n                        onChange={handleChange}\n                        id=\"email\"\n                        pattern={pattern}\n                    />\n                    <span className=\"register__input-span\">{errors.email}</span>\n                    <label className=\"register__input-label\" htmlFor=\"password\">\n                        Пароль\n                    </label>\n                    <input\n                        required\n                        className=\"register__input register__input_for_password\"\n                        type=\"password\"\n                        name=\"password\"\n                        autoComplete=\"on\"\n                        value={values.password || \"\"}\n                        onChange={handleChange}\n                        minLength=\"8\"\n                        id=\"password\"\n                    />\n                    <span className=\"register__input-span\">{errors.password}</span>\n                </div>\n            </div>\n        </Form>\n    );\n}\n\nexport default Register;\n","import React from \"react\";\nimport \"./Preloader.css\";\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"/>\n            </div>\n        </div>\n    );\n};\n\nexport default Preloader;\n","import React from \"react\";\nimport \"./Login.css\";\nimport Form from \"../Form/Form\";\nimport Preloader from \"../Movies/Preloader/Preloader\";\nimport useFormWithValidation from \"../../utils/useFormWithValidation\";\n\nfunction Login({onAuth, loading}) {\n    const {values, handleChange, errors, isValid} = useFormWithValidation();\n    const pattern = \"^[^@\\\\s]+@[^@\\\\s]+\\\\.[^@\\\\s]+$\";\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onAuth(values.email, values.password);\n    }\n\n    return (\n        <Form\n            name=\"login\"\n            title=\"Рады видеть!\"\n            submitBtnText={loading ? \"Выполняется вход...\" : \"Войти\"}\n            question=\"Ещё не зарегистрированы?\"\n            nav=\"Регистрация\"\n            onSubmit={handleSubmit}\n            isValid={isValid}\n        >\n            {loading ? <Preloader/> : <></>}\n            <div className=\"login\">\n                <div className=\"inputs\">\n                    <label className=\"login__input-label\" htmlFor=\"email\">\n                        E-mail\n                    </label>\n                    <input\n                        required\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        className=\"login__input login__input_for_email\"\n                        type=\"email\"\n                        name=\"email\"\n                        autoComplete=\"on\"\n                        value={values.email || \"\"}\n                        onChange={handleChange}\n                        id=\"email\"\n                        pattern={pattern}\n                    />\n                    <span className=\"login__input-span\">{errors.email}</span>\n                    <label className=\"login__input-label\" htmlFor=\"password\">\n                        Пароль\n                    </label>\n                    <input\n                        required\n                        className=\"login__input login__input_for_password\"\n                        type=\"password\"\n                        name=\"password\"\n                        autoComplete=\"on\"\n                        value={values.password || \"\"}\n                        onChange={handleChange}\n                        minLength=\"8\"\n                        id=\"password\"\n                    />\n                    <span className=\"login__input-span\">{errors.password}</span>\n                </div>\n            </div>\n        </Form>\n    );\n}\n\nexport default Login;\n","import React from \"react\";\nimport \"./Promo.css\";\n\nfunction Promo() {\n    return (\n        <div className=\"promo\">\n            <div className=\"promo_info\">\n                <h1 className=\"promo_info-header\">\n                    Учебный проект студента факультета Веб-разработки.\n                </h1>\n                <h2 className=\"promo_info-text\">\n                    Листайте ниже, чтобы узнать больше про этот проект и его создателя.\n                </h2>\n                <a href=\"#project\" className=\"promo_info-link\">\n                    Узнать больше\n                </a>\n            </div>\n            <div className=\"promo_img\"/>\n        </div>\n    );\n}\n\nexport default Promo;\n","import React from \"react\";\nimport \"./AboutProject.css\";\n\nfunction AboutProject() {\n    return (\n        <div className=\"project\" id=\"project\">\n            <h1 className=\"project__header\">О проекте</h1>\n            <div className=\"project__info\">\n                <div>\n                    <h2 className=\"project__info-header\">\n                        Дипломный проект включал 5 этапов\n                    </h2>\n                    <p className=\"project__info-header_text\">\n                        Составление плана, работу над бэкендом, вёрстку, добавление\n                        функциональности и финальные доработки.\n                    </p>\n                </div>\n                <div>\n                    <h2 className=\"project__info-header\">\n                        На выполнение диплома ушло 5 недель\n                    </h2>\n                    <p className=\"project__info-header_text\">\n                        У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\n                        соблюдать, чтобы успешно защититься.\n                    </p>\n                </div>\n            </div>\n            <div className=\"project__graph\">\n                <div className=\"project__graph-back\">\n                    <h2 className=\"project__graph-weeks project__graph-weeks_back\">\n                        1 неделя\n                    </h2>\n                    <p className=\"project__graph-stack\">Back-end</p>\n                </div>\n                <div className=\"project__graph-front\">\n                    <h2 className=\"project__graph-weeks project__graph-weeks_front\">\n                        4 недели\n                    </h2>\n                    <p className=\"project__graph-stack\">Front-end</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AboutProject;\n","import React from \"react\";\nimport \"./Techs.css\";\n\nfunction Techs() {\n    return (\n        <div className=\"techs\">\n            <h2 className=\"techs__header\">Технологии</h2>\n            <div className=\"techs__info\">\n                <h3 className=\"techs__info-header\">7 технологий</h3>\n                <h4 className=\"techs__info-text\">\n                    На курсе веб-разработки мы освоили технологии, которые применили в\n                    дипломном проекте.\n                </h4>\n            </div>\n            <ul className=\"techs__info-list\">\n                <li className=\"techs__info-list_item\">HTML</li>\n                <li className=\"techs__info-list_item\">CSS</li>\n                <li className=\"techs__info-list_item\">JS</li>\n                <li className=\"techs__info-list_item\">React</li>\n                <li className=\"techs__info-list_item\">Git</li>\n                <li className=\"techs__info-list_item\">Express.js</li>\n                <li className=\"techs__info-list_item\">mongoDB</li>\n            </ul>\n        </div>\n    );\n}\n\nexport default Techs;\n","export default __webpack_public_path__ + \"static/media/my_photo.10bc6e08.png\";","import React from \"react\";\nimport \"./AboutMe.css\";\nimport myPhoto from \"../../../images/my_photo.png\";\n\nfunction AboutMe() {\n    return (\n        <div className=\"about\">\n            <h2 className=\"about__header\">Студент</h2>\n            <div className=\"about__info\">\n                <div>\n                    <img src={myPhoto} alt=\"мое фото\" className=\"about__photo\"/>\n                </div>\n                <div className=\"about__info_container\">\n                    <h3 className=\"about__info-name\">Ольга</h3>\n                    <h4 className=\"about__info-age_prof\">Фронтенд-разработчик, 28 лет</h4>\n                    <p className=\"about__info-text\">\n                        Закончила институт по направлению “Гос. и муниципальное управление”,\n                        живу и работаю в Москве.\n                    </p>\n                    <p className=\"about__info-text\">\n                        В свободное время люблю читать и путешествовать.\n                    </p>\n                    <p className=\"about__info-text\">\n                        С января 2021г. увлеклась веб-разработкой, окончила курс обучения по\n                        данному направлению.\n                    </p>\n                    <ul className=\"about__info-links\">\n                        <li>\n                            <a\n                                href=\"https://ru-ru.facebook.com/\"\n                                target=\"_blank\"\n                                rel=\"noreferrer\"\n                                className=\"about__info-links_item\"\n                            >\n                                Facebook\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                href=\"https://github.com/\"\n                                target=\"_blank\"\n                                rel=\"noreferrer\"\n                                className=\"about__info-links_item\"\n                            >\n                                Github\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AboutMe;\n","export default __webpack_public_path__ + \"static/media/icon__arrow.9534d0bb.svg\";","import React from \"react\";\nimport \"./Portfolio.css\";\nimport arrow from \"../../../images/icon__arrow.svg\";\n\nfunction Portfolio() {\n    return (\n        <div className=\"portfolio\">\n            <h2 className=\"portfolio__header\">Портфолио</h2>\n            <ul className=\"portfolio__links\">\n                <li className=\"portfolio__link\">\n                    <a\n                        href=\"https://gonzoooo.github.io/how-to-learn\"\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        className=\"portfolio__links-item\"\n                    >\n                        Статичный сайт\n                        <img\n                            src={arrow}\n                            alt=\"стрелка ссылка на сайт\"\n                            className=\"portfolio__links-img\"\n                        />\n                    </a>\n                </li>\n                <li className=\"portfolio__link\">\n                    <a\n                        href=\"https://gonzoooo.github.io/russian-travel\"\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        className=\"portfolio__links-item\"\n                    >\n                        Адаптивный сайт\n                        <img\n                            src={arrow}\n                            alt=\"стрелка ссылка на сайт\"\n                            className=\"portfolio__links-img\"\n                        />\n                    </a>\n                </li>\n                <li className=\"portfolio__link\">\n                    <a\n                        href=\"https://gonzoooo.nomoredomains.club\"\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                        className=\"portfolio__links-item\"\n                    >\n                        Одностраничное приложение\n                        <img\n                            src={arrow}\n                            alt=\"стрелка ссылка на сайт\"\n                            className=\"portfolio__links-img\"\n                        />\n                    </a>\n                </li>\n            </ul>\n        </div>\n    );\n}\n\nexport default Portfolio;\n","import React from \"react\";\nimport \"./Footer.css\";\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <div className=\"footer__about\">\n                Учебный проект Яндекс.Практикум х BeatFilm.\n            </div>\n            <div className=\"footer__info\">\n                <p className=\"footer__info-copy\">&copy; {new Date().getFullYear()}</p>\n                <ul className=\"footer__info-links\">\n                    <li className=\"footer__info-link_item\">\n                        <a\n                            href=\"https://practicum.yandex.ru/\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                            className=\"footer__info-link_item\"\n                        >\n                            Яндекс.Практикум\n                        </a>\n                    </li>\n                    <li className=\"footer__info-link_item\">\n                        <a\n                            href=\"https://github.com/\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                            className=\"footer__info-link_item\"\n                        >\n                            Github\n                        </a>\n                    </li>\n                    <li className=\"footer__info-link_item\">\n                        <a\n                            href=\"https://ru-ru.facebook.com/\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                            className=\"footer__info-link_item\"\n                        >\n                            Facebook\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </footer>\n    );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport Header from \"../Header/Header\";\nimport Promo from \"./Promo/Promo\";\nimport AboutProject from \"./AboutProject/AboutProject\";\nimport Techs from \"./Techs/Techs\";\nimport AboutMe from \"./AboutMe/AboutMe\";\nimport Portfolio from \"./Portfolio/Portfolio\";\nimport Footer from \"../Footer/Footer\";\n\nfunction Main({loggedIn}) {\n    const main = true;\n\n    return (\n        <main>\n            <Header main={main} loggedIn={loggedIn}/>\n            <>\n                <Promo/>\n                <AboutProject/>\n                <Techs/>\n                <AboutMe/>\n                <Portfolio/>\n            </>\n            <Footer/>\n        </main>\n    );\n}\n\nexport default Main;\n","import React from \"react\";\nimport \"./NotFound.css\";\nimport {Link} from \"react-router-dom\";\nimport {useHistory} from \"react-router-dom\";\n\nfunction NotFound() {\n    let history = useHistory();\n\n    return (\n        <div className=\"not__found\">\n            <h2 className=\"not__found-header\">404</h2>\n            <p className=\"not__found-text\">Страница не найдена</p>\n            <Link\n                to=\"/savedFilms\"\n                className=\"not__found-link\"\n                onClick={history.goBack}\n            >\n                Назад\n            </Link>\n        </div>\n    );\n}\n\nexport default NotFound;\n","import React from \"react\";\nimport \"./FilterCheckbox.css\";\n\nfunction FilterCheckbox({onShortMovies, isShortMovies}) {\n    return (\n        <div className=\"checkbox\">\n            <label className=\"checkbox__switch\">\n                <input\n                    type=\"checkbox\"\n                    onChange={onShortMovies}\n                    defaultChecked={isShortMovies}\n                />\n                <span className=\"checkbox__slider checkbox__round\"/>\n            </label>\n            <p className=\"checkbox__label\">Короткометражки</p>\n        </div>\n    );\n}\n\nexport default FilterCheckbox;\n","import React from \"react\";\nimport \"./SearchForm.css\";\nimport FilterCheckbox from \"../FilterCheckbox/FilterCheckbox\";\nimport {useLocation} from \"react-router-dom\";\n\nfunction SearchForm({\n                        onSearchMovies,\n                        onShortMovies,\n                        onSearchSavedMovies,\n                        isShortMovies,\n                        searchValue,\n                        isInfoTooltipOpen,\n                    }) {\n    const [search, setSearch] = React.useState(\"\");\n    const [searchSaved, setSearchSaved] = React.useState(\"\");\n    const [isSearchValid, setIsSearchValid] = React.useState(true);\n    const location = useLocation().pathname;\n\n    function handleChange(e) {\n        setSearch(e.target.value);\n        setSearchSaved(e.target.value);\n        setIsSearchValid(e.target.closest(\"form\").checkValidity());\n    }\n\n    function onSubmit(e) {\n        e.preventDefault();\n        localStorage.setItem(\"keyword\", search);\n        onSearchMovies(search);\n    }\n\n    function onSubmitSavedMovies(e) {\n        e.preventDefault();\n        onSearchSavedMovies(searchSaved);\n    }\n\n    React.useEffect(() => {\n        setSearch(localStorage.getItem(\"keyword\"));\n    }, []);\n\n    React.useEffect(() => {\n    }, [searchValue]);\n\n    return (\n        <form\n            className=\"search\"\n            onSubmit={location === \"/movies\" ? onSubmit : onSubmitSavedMovies}\n        >\n            <div className=\"search__form\">\n                <input\n                    className=\"search__form-input\"\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    placeholder={searchValue?.keyword || \"Фильм\"}\n                    required\n                    onChange={handleChange}\n                    disabled={isInfoTooltipOpen}\n                />\n                <span\n                    className={\n                        isSearchValid ? \"search__form-span_hidden\" : \"search__form-span\"\n                    }\n                >\n          Нужно ввести ключевое слово\n        </span>\n                <div className=\"search__form-container\">\n                    <button className=\"search__form-button_find\" type=\"submit\">\n                        Найти\n                    </button>\n                    <FilterCheckbox\n                        onShortMovies={onShortMovies}\n                        isShortMovies={isShortMovies}\n                    />\n                </div>\n            </div>\n        </form>\n    );\n}\n\nexport default SearchForm;\n","import React from \"react\";\nimport \"./MoviesCard.css\";\nimport {useLocation} from \"react-router-dom\";\n\nfunction MoviesCard({\n                        movie,\n                        onAddMovie,\n                        onDeleteMovie,\n                        onDislikeMovie,\n                        userSavedMovies,\n                    }) {\n    const location = useLocation().pathname;\n\n    const isLiked = userSavedMovies.find((item) => item.movieId === movie.id);\n\n    const cardLikeButtonClassName = `card__group-button ${\n        isLiked ? \"card__group-like_active\" : \"card__group-like\"\n    }`;\n\n    function handleSaveMovie() {\n        onAddMovie(movie);\n    }\n\n    function handleDeleteMovie() {\n        onDeleteMovie(movie);\n    }\n\n    function handleDislikeMovie() {\n        onDislikeMovie(movie);\n    }\n\n    function handleOpenMovie() {\n        location === \"/movies\"\n            ? window.open(movie.trailerLink, \"_blank\")\n            : window.open(movie.trailer, \"_blank\")\n    }\n\n    return (\n        <li className=\"card\">\n            <div className=\"card__container\">\n                <div className=\"card__group\">\n                    <h2 className=\"card__group-name\">{movie.nameRU}</h2>\n                    <div className=\"card__group-duration\">{movie.duration}</div>\n                    {location === \"/movies\" ? (\n                        <button\n                            aria-label=\"Like\"\n                            type=\"button\"\n                            className={cardLikeButtonClassName}\n                            onClick={isLiked ? handleDislikeMovie : handleSaveMovie}\n                        />\n                    ) : (\n                        <button\n                            aria-label=\"Delete\"\n                            type=\"button\"\n                            className=\"card__group-button card__group-cross\"\n                            onClick={handleDeleteMovie}\n                        />\n                    )}\n                </div>\n                <img\n                    className=\"card__img\"\n                    src={\n                        location === \"/saved-movies\"\n                            ? movie.image\n                            : `https://api.nomoreparties.co${movie.image.url}`\n                    }\n                    alt={movie.nameRU}\n                    onClick={handleOpenMovie}\n                />\n            </div>\n        </li>\n    );\n}\n\nexport default MoviesCard;\n","import React from \"react\";\nimport \"./MoviesCardMore.css\";\n\nfunction MoviesCardMore({onMoreClick, showButtonMore}) {\n    return (\n        showButtonMore && (\n            <div className=\"more\">\n                <button className=\"more__button\" onClick={onMoreClick}>\n                    Ещё\n                </button>\n            </div>\n        )\n    );\n}\n\nexport default MoviesCardMore;\n","import React, {useState} from \"react\";\nimport \"./MoviesCardList.css\";\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport MoviesCardMore from \"../MoviesCardMore/MoviesCardMore\";\nimport {useLocation} from \"react-router-dom\";\n\nfunction MoviesCardList({\n                            movies,\n                            onAddMovie,\n                            onDeleteMovie,\n                            onDislikeMovie,\n                            userSavedMovies,\n                        }) {\n    const [windowResizing, setWindowResizing] = useState(false);\n    const [shownMovies, setShownMovies] = React.useState([]);\n    const [shownMoviesCount, setShownMoviesCount] = React.useState(0);\n    const [showButtonMore, setShowButtonMore] = React.useState(false);\n    const [addedMoviesCount, setAddedMoviesCount] = React.useState(0);\n    const location = useLocation().pathname;\n    const windowWidth = window.innerWidth;\n\n    function handleMoreClick() {\n        setShownMovies(movies.slice(0, shownMovies.length + addedMoviesCount));\n        if (shownMovies.length >= movies.length - addedMoviesCount) {\n            setShowButtonMore(false);\n        }\n    }\n\n    React.useEffect(() => {\n        if (windowWidth >= 645) {\n            setShownMoviesCount(7);\n            setAddedMoviesCount(7);\n        } else {\n            setShownMoviesCount(5);\n            setAddedMoviesCount(5);\n        }\n    }, [windowWidth, windowResizing]);\n\n    React.useEffect(() => {\n        setShownMovies(movies.slice(0, shownMoviesCount));\n        if (movies.length <= shownMoviesCount) {\n            setShowButtonMore(false);\n        } else {\n            setShowButtonMore(true);\n        }\n    }, [shownMoviesCount, movies]);\n\n    React.useEffect(() => {\n        let timeout;\n        const handleResize = () => {\n            clearTimeout(timeout);\n            setWindowResizing(true);\n            timeout = setTimeout(() => {\n                setWindowResizing(false);\n            }, 200);\n        };\n        window.addEventListener(\"resize\", handleResize);\n        return () => window.removeEventListener(\"resize\", handleResize);\n    }, []);\n\n    return (\n        <ul className=\"cards\">\n            {location === \"/movies\" ? (\n                <>\n                    {shownMovies.map((movie) => (\n                        <MoviesCard\n                            key={movie.id || movie._id}\n                            movie={movie}\n                            onAddMovie={onAddMovie}\n                            onDeleteMovie={onDeleteMovie}\n                            onDislikeMovie={onDislikeMovie}\n                            userSavedMovies={userSavedMovies}\n                        />\n                    ))}\n                    <MoviesCardMore\n                        onMoreClick={handleMoreClick}\n                        showButtonMore={showButtonMore}\n                    />\n                </>\n            ) : (\n                <>\n                    {userSavedMovies\n                        .slice(0)\n                        .reverse()\n                        .map((movie) => (\n                            <MoviesCard\n                                key={movie.id || movie._id}\n                                movie={movie}\n                                onAddMovie={onAddMovie}\n                                onDeleteMovie={onDeleteMovie}\n                                onDislikeMovie={onDislikeMovie}\n                                userSavedMovies={userSavedMovies}\n                            />\n                        ))}\n                </>\n            )}\n        </ul>\n    );\n}\n\nexport default MoviesCardList;\n","import React from \"react\";\nimport Header from \"../Header/Header\";\nimport SearchForm from \"./SearchForm/SearchForm\";\nimport MoviesCardList from \"./MoviesCardList/MoviesCardList\";\nimport Footer from \"../Footer/Footer\";\nimport Preloader from \"./Preloader/Preloader\";\n\nfunction Movies({\n                    movies,\n                    loading,\n                    onAddMovie,\n                    onDislikeMovie,\n                    onSearchMovies,\n                    onShortMovies,\n                    isShortMovies,\n                    searchValue,\n                    isInfoTooltipOpen,\n                    userSavedMovies\n                }) {\n    return (\n        <>\n            <Header/>\n            <SearchForm\n                onSearchMovies={onSearchMovies}\n                onShortMovies={onShortMovies}\n                searchValue={searchValue}\n                isShortMovies={isShortMovies}\n                isInfoTooltipOpen={isInfoTooltipOpen}\n            />\n            {loading ? (\n                <Preloader/>\n            ) : (\n                <MoviesCardList\n                    movies={movies}\n                    onAddMovie={onAddMovie}\n                    onDislikeMovie={onDislikeMovie}\n                    userSavedMovies={userSavedMovies}\n                />\n            )}\n            <Footer/>\n        </>\n    );\n}\n\nexport default Movies;\n","import React from \"react\";\nimport Header from \"../Header/Header\";\nimport SearchForm from \"../../components/Movies/SearchForm/SearchForm\";\nimport MoviesCardList from \"../Movies/MoviesCardList/MoviesCardList\";\nimport Footer from \"../Footer/Footer\";\n\nfunction savedMovies({\n                         movies,\n                         userSavedMovies,\n                         loading,\n                         onDeleteMovie,\n                         onShortMovies,\n                         onSearchSavedMovies,\n                         isInfoTooltipOpen,\n                     }) {\n    return (\n        <>\n            <Header/>\n            <SearchForm\n                onSearchSavedMovies={onSearchSavedMovies}\n                onShortMovies={onShortMovies}\n                isInfoTooltipOpen={isInfoTooltipOpen}\n            />\n            <MoviesCardList\n                userSavedMovies={userSavedMovies}\n                loading={loading}\n                onDeleteMovie={onDeleteMovie}\n                movies={movies}\n            />\n            <Footer/>\n        </>\n    );\n}\n\nexport default savedMovies;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n        <Route>\n            {() =>\n                props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n            }\n        </Route>\n    );\n};\n\n\nexport default ProtectedRoute;\n","const BASE_URL = \"http://localhost:3001\";\nconst MOVIES_URL = \"https://api.nomoreparties.co\";\n\nexport const handleResponse = (res) => {\n    if (res.ok) {\n        return res.json();\n    } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n};\n\n//регистрация\nexport const register = (name, email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        credentials: \"include\",\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ name, email, password }),\n    }).then((res) => handleResponse(res));\n};\n\n//авторизация\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        credentials: \"include\",\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n    }).then((res) => handleResponse(res));\n};\n\n//проверка токена\nexport const checkToken = (jwt) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        credentials: \"include\",\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${jwt}`,\n        },\n    }).then((res) => handleResponse(res));\n};\n\n//получили информацию\nexport const getUserInfo = () => {\n    return fetch(`${BASE_URL}/users/me`, {\n        credentials: \"include\",\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n    }).then((res) => handleResponse(res));\n};\n\n//обновили информацию\nexport const setUserInfo = (name, email) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        credentials: \"include\",\n        method: \"PATCH\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ name, email }),\n    }).then((res) => handleResponse(res));\n};\n\n//добавили фильм\nexport const saveMovie = (movie) => {\n    return fetch(`${BASE_URL}/movies`, {\n        credentials: \"include\",\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            country: movie.country || 'Страна не указана =(',\n            director: movie.director || 'Нет =(',\n            duration: movie.duration || 'Нет =(',\n            year: movie.year || 'Нет =(',\n            description: movie.description,\n            image: `${MOVIES_URL}${movie.image.url}`,\n            trailer: movie.trailerLink,\n            thumbnail: `${MOVIES_URL}${movie.image.formats.thumbnail.url}`,\n            nameRU: movie.nameRU,\n            nameEN: movie.nameEN || 'Нет =(',\n            movieId: movie.id,\n        }),\n    }).then((res) => handleResponse(res));\n};\n\n//удаление фильма\nexport const deleteMovie = (_id) => {\n    return fetch(`${BASE_URL}/movies/${_id}`, {\n        credentials: \"include\",\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n    }).then((res) => handleResponse(res));\n};\n\n//получили фильмы\nexport const getSavedMovies = () => {\n    return fetch(`${BASE_URL}/movies`, {\n        credentials: \"include\",\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n    }).then((res) => handleResponse(res));\n};\n","export default __webpack_public_path__ + \"static/media/CheckMark.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/cross.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/CloseIcon.61b629a4.svg\";","import React from \"react\";\nimport ImgSuccess from \"../../images/CheckMark.svg\";\nimport ImgBad from \"../../images/cross.svg\";\nimport buttonClose from \"../../images/CloseIcon.svg\";\nimport \"./InfoTooltip.css\";\n\nfunction InfoTooltip({isOpen, onClose, isSuccess, infoMessage}) {\n    return (\n        <div className={`popup ${isOpen ? \"popup_visible\" : \"\"}`}>\n            <div className=\"popup-overlay\" onClick={onClose}/>\n            <div className=\"popup-form\">\n                <img src={isSuccess ? ImgSuccess : ImgBad} alt={infoMessage}/>\n                <h2 className=\"popup-form__title\">{infoMessage}</h2>\n                <button\n                    aria-label=\"Close\"\n                    type=\"button\"\n                    className=\"popup-form__close-icon\"\n                    onClick={onClose}\n                >\n                    <img\n                        src={buttonClose}\n                        className=\"popup-form__close\"\n                        alt=\"Крестик закрытия окна\"\n                    />\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default InfoTooltip;\n","export function errorMessages(e) {\n    if (e === \"Ошибка: 400\") {\n        return \"Неправильные почта или пароль\";\n    } else if (e === \"Ошибка: 401\") {\n        return \"Необходима авторизация\";\n    } else if (e === \"Ошибка: 403\") {\n        return \"Нет прав\";\n    } else if (e === \"Ошибка: 404\") {\n        return \"Данные не найдены\";\n    } else if (e === \"Ошибка: 409\") {\n        return \"Такой пользователь уже существует\";\n    } else if (e === \"Ошибка: 429\") {\n        return \"Слишком много запросов. Попробуйте позже\";\n    } else if (e === \"Ошибка: 500\") {\n        return \"Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз\";\n    } else {\n        return \"Ошибка сервера\";\n    }\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport {Route, Switch, useHistory} from \"react-router-dom\";\nimport Profile from \"../Profile/Profile\";\nimport Register from \"../Register/Register\";\nimport Login from \"../Login/Login\";\nimport Main from \"../Main/Main\";\nimport NotFound from \"../NotFound/NotFound\";\nimport Movies from \"../Movies/Movies\";\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\nimport ProtectedRoute from \"../../ProtectedRoute/ProtectedRoute\";\nimport * as mainApi from \"../../utils/MainApi\";\nimport * as moviesApi from \"../../utils/MoviesApi\";\nimport {CurrentUserContext} from \"../../contexts/CurrentUserContext\";\nimport InfoTooltip from \"../InfoTooltiip/InfoTooltip\";\nimport {errorMessages} from \"../../utils/errorMessages\";\n\nfunction App() {\n    const history = useHistory();\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [loading, setLoading] = React.useState(false);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [movies, setMovies] = React.useState([]);\n    const [savedMovies, setSavedMovies] = React.useState([]);\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n    const [isSuccess, setIsSuccess] = React.useState(false);\n    const [infoMessage, setInfoMessage] = React.useState(\"\");\n    const [searchValue, setSearchValue] = React.useState({});\n    const [isShortMovies, setIsShortMovies] = React.useState(false);\n    const userSavedMovies = savedMovies.filter(\n        (movie) => !movie.owner || (movie.owner.id ?? movie.owner) === currentUser._id,\n    );\n\n    function handleRegistration(name, email, password) {\n        setLoading(true);\n        mainApi\n            .register(name, email, password)\n            .then((res) => {\n                if (res) {\n                    setLoading(false);\n                    setIsSuccess(true);\n                    setInfoMessage(\"Вы успешно зарегистрировались!\");\n                    setIsInfoTooltipOpen(true);\n                }\n            })\n            .then(() => {\n                handleAuthorization(email, password);\n            })\n            .catch((e) => {\n                setLoading(false);\n                setIsSuccess(false);\n                setInfoMessage(errorMessages(e));\n                setIsInfoTooltipOpen(true);\n            });\n    }\n\n    function handleAuthorization(email, password) {\n        setLoading(true);\n        mainApi\n            .authorize(email, password)\n            .then((res) => {\n                localStorage.setItem(\"jwt\", res.jwt);\n                setLoggedIn(true);\n                console.log(res.jwt)\n                history.push(\"/movies\");\n                setLoading(false);\n                setIsSuccess(true);\n                setInfoMessage(\"Вы успешно авторизовались!\");\n                setIsInfoTooltipOpen(true);\n            })\n            .catch((e) => {\n                setLoading(false);\n                setIsSuccess(false);\n                setInfoMessage(errorMessages(e));\n                setIsInfoTooltipOpen(true);\n            });\n    }\n\n    function handleSignOut(e) {\n        e.preventDefault();\n        localStorage.removeItem(\"jwt\");\n        localStorage.removeItem(\"foundMovies\");\n        localStorage.removeItem(\"searchValue\");\n        localStorage.removeItem(\"isShortMovies\");\n        localStorage.clear();\n        setLoggedIn(false);\n        history.push(\"/\");\n    }\n\n    function handleUpdateUser(name, email) {\n        mainApi\n            .setUserInfo(name, email)\n            .then((name, email) => {\n                setCurrentUser(name, email);\n                setIsSuccess(true);\n                setIsInfoTooltipOpen(true);\n                setInfoMessage(\"Данные успешно изменены!\");\n            })\n            .catch((e) => {\n                setInfoMessage(errorMessages(e));\n                setIsInfoTooltipOpen(true);\n            });\n    }\n\n    function handleAddMovie(newMovie) {\n        mainApi\n            .saveMovie(newMovie)\n            .then((newMovie) => {\n                setSavedMovies([...savedMovies, newMovie]);\n            })\n            .catch(() => {\n                setInfoMessage(\"Не удалось сохранить фильм :(\");\n                setIsInfoTooltipOpen(true);\n            });\n    }\n\n    function handleDislikeMovie(movie) {\n        const movieForDelete = userSavedMovies.find(\n            (item) => item.movieId === movie.id\n        );\n        mainApi\n            .deleteMovie(movieForDelete._id)\n            .then(() => {\n                setSavedMovies((savedMovies) =>\n                    savedMovies.filter((item) => item !== movieForDelete)\n                );\n            })\n            .catch((e) => {\n                setInfoMessage(errorMessages(e));\n                setIsInfoTooltipOpen(true);\n            });\n    }\n\n    function handleDeleteMovie(movie) {\n        mainApi\n            .deleteMovie(movie._id)\n            .then(() => {\n                setSavedMovies((savedMovies) =>\n                    savedMovies.filter((item) => item !== movie)\n                );\n            })\n            .catch((e) => {\n                setInfoMessage(errorMessages(e));\n                setIsInfoTooltipOpen(true);\n            });\n    }\n\n    function closeInfoTooltip() {\n        setIsInfoTooltipOpen(false);\n    }\n\n    function handleShortMovies(e) {\n        setIsShortMovies(e.target.checked);\n    }\n\n    function handleSearchMoviesByKeyword(movies, keyword) {\n        let foundMovies = [];\n        movies.forEach((movie) => {\n            if (movie.nameRU.toLowerCase().indexOf(keyword) > -1) {\n                if (isShortMovies) {\n                    movie.duration <= 40 && foundMovies.push(movie);\n                } else {\n                    foundMovies.push(movie);\n                }\n            }\n        });\n        return foundMovies;\n    }\n\n    function handleSearchMovies(keyword) {\n        setLoading(true);\n        setMovies([]);\n\n        moviesApi\n            .getMovies()\n            .then((resMovies) => {\n                setMovies(resMovies);\n                const searchResult = handleSearchMoviesByKeyword(resMovies, keyword);\n                if (searchResult.length === 0) {\n                    setMovies([]);\n                    setIsInfoTooltipOpen(true);\n                    setInfoMessage(\"Ничего не найдено\");\n                } else {\n                    localStorage.setItem(\"foundMovies\", JSON.stringify(searchResult));\n                    setSearchValue({...searchValue, keyword: keyword});\n                    localStorage.setItem(\"searchValue\", JSON.stringify({keyword}));\n                    setMovies(JSON.parse(localStorage.getItem(\"foundMovies\")));\n                    localStorage.setItem(\"isShortMovies\", JSON.stringify(isShortMovies));\n                }\n            })\n            .catch(() => {\n                setMovies([]);\n                setIsInfoTooltipOpen(true);\n                setInfoMessage(\"Ничего не найдено\");\n            })\n            .finally(() => {\n                setLoading(false);\n            });\n    }\n\n    function handleSearchSavedMovies(keyword) {\n        setLoading(true);\n\n        mainApi\n            .getSavedMovies()\n            .then((savedMovies) => {\n                setSavedMovies(savedMovies);\n                const searchResult = handleSearchMoviesByKeyword(savedMovies, keyword);\n                if (searchResult.length === 0) {\n                    setSavedMovies([]);\n                    setIsInfoTooltipOpen(true);\n                    setInfoMessage(\"Ничего не найдено\");\n                } else {\n                    setSavedMovies(searchResult);\n                }\n            })\n            .catch(() => {\n                setSavedMovies([]);\n                setIsInfoTooltipOpen(true);\n                setInfoMessage(\"Ничего не найдено\");\n            })\n            .finally(() => {\n                setLoading(false);\n            });\n    }\n\n    React.useEffect(() => {\n        const closeByEscape = (e) => {\n            if (e.key === \"Escape\") {\n                closeInfoTooltip();\n            }\n        };\n        document.addEventListener(\"keydown\", closeByEscape);\n        return () => document.removeEventListener(\"keydown\", closeByEscape);\n    }, []);\n\n    React.useEffect(() => {\n        const token = localStorage.getItem(\"jwt\");\n        if (token) {\n            Promise.all([mainApi.getUserInfo(), mainApi.getSavedMovies(), mainApi.checkToken(token)])\n                .then(([info, savedMovies]) => {\n                    setCurrentUser(info);\n                    setSavedMovies(savedMovies);\n                    setLoggedIn(true);\n                })\n                .catch((e) => {\n                    setInfoMessage(errorMessages(e));\n                    setIsInfoTooltipOpen(true);\n                });\n        }\n    }, [loggedIn]);\n\n    React.useEffect(() => {\n        history.push(JSON.parse(window.sessionStorage.getItem(\"lastRoute\") || \"{}\"))\n        window.onbeforeunload = () => {\n            window.sessionStorage.setItem(\"lastRoute\", JSON.stringify(window.location.pathname))\n        }\n    }, [history]);\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"App\">\n                <Switch>\n                    <Route exact path=\"/\" component={Main} loggedIn={loggedIn}/>\n                    <ProtectedRoute\n                        path=\"/movies\"\n                        component={Movies}\n                        movies={movies}\n                        userSavedMovies={userSavedMovies}\n                        loggedIn={loggedIn}\n                        loading={loading}\n                        onAddMovie={handleAddMovie}\n                        onDislikeMovie={handleDislikeMovie}\n                        onSearchMovies={handleSearchMovies}\n                        onShortMovies={handleShortMovies}\n                        searchValue={searchValue}\n                        isShortMovies={isShortMovies}\n                        isInfoTooltipOpen={isInfoTooltipOpen}\n                    />\n                    <ProtectedRoute\n                        path=\"/saved-movies\"\n                        component={SavedMovies}\n                        loggedIn={loggedIn}\n                        loading={loading}\n                        movies={movies}\n                        userSavedMovies={userSavedMovies}\n                        onDeleteMovie={handleDeleteMovie}\n                        onSearchSavedMovies={handleSearchSavedMovies}\n                        onShortMovies={handleShortMovies}\n                        isInfoTooltipOpen={isInfoTooltipOpen}\n                    />\n                    <ProtectedRoute\n                        loggedIn={loggedIn}\n                        path=\"/profile\"\n                        onUpdateUser={handleUpdateUser}\n                        loading={loading}\n                        onSignOut={handleSignOut}\n                        component={Profile}\n                    />\n                    <Route path=\"/signin\">\n                        <Login onAuth={handleAuthorization} loading={loading}/>\n                    </Route>\n                    <Route path=\"/signup\">\n                        <Register onReg={handleRegistration} loading={loading}/>\n                    </Route>\n                    <Route path=\"/*\" component={NotFound}/>\n                </Switch>\n                <InfoTooltip\n                    isOpen={isInfoTooltipOpen}\n                    onClose={closeInfoTooltip}\n                    isSuccess={isSuccess}\n                    infoMessage={infoMessage}\n                />\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","import {handleResponse} from \"./MainApi\";\n\n//получили фильмы\nexport const getMovies = () => {\n    return fetch(`https://api.nomoreparties.co/beatfilm-movies`, {\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n    }).then((res) => handleResponse(res));\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport {HashRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n      <HashRouter>\n          <App />\n      </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}